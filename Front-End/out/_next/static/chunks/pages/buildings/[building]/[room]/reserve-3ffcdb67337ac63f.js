(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4910:function(r,t,e){"use strict";e.r(t),e.d(t,{__N_SSP:function(){return x},default:function(){return rf}});var a,o=e(9499),i=e(6835),n=e(29),c=e(7794),l=e.n(c),s=e(7294);e(1664);var d=e(1163),p=e(7085),b=e(7536),h=e(7533),y=e(6310),m=e(4625),w=e(5944);function u(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,a)}return e}function g(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?u(Object(e),!0).forEach(function(t){(0,o.Z)(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var v=(a=(0,n.Z)(l().mark(function r(t,e,a){var o,i;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(o={room_id:e.room,date:e.selectedDate,reason:t.reason,event_name:t.name,people:t.headcount,group_name:t.organization,event_content:t.outline,user_id:a.id,approval:"W",start_time:e.startTime,end_time:e.endTime}),r.next=5,m.Z.post("/buildings/".concat(o.date,"/").concat(e.buildingname,"/").concat(o.room_id,"/reservation"),o);case 5:return i=r.sent,r.abrupt("return",i);case 9:r.prev=9,r.t0=r.catch(0),console.error(r.t0);case 12:case"end":return r.stop()}},r,null,[[0,9]])})),function(r,t,e){return a.apply(this,arguments)}),f=y.Ry().shape({reason:y.Z_().required("신청사유를 입력해주세요."),name:y.Z_().required("예약명(행사명)을 입력해주세요"),headcount:y.Z_().required("인원수를 입력해주세요. "),organization:y.Z_().required("단체명 또는 주최자명을 입력해주세요"),outline:y.Z_().required("행사개요를 입력해주세요. ")}),x=!0,Z={name:"13udsys",styles:"height:100%"},k={name:"13bmis7",styles:"margin-top:7rem;margin-bottom:7rem;text-align:center"},_={name:"1hmtjnm",styles:"margin-left:auto;margin-right:auto;max-width:1024px"},j={name:"1d3w5wq",styles:"width:100%"},z={name:"hk06st",styles:"display:flex;height:2.5rem;width:100%;align-items:center;--tw-bg-opacity:1;background-color:rgba(var(--neutral-2),var(--tw-bg-opacity));padding:0.5rem;text-align:left"},O={name:"1dbko54",styles:"width:100%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},q={name:"kbgcjf",styles:"margin-top:1.25rem;display:flex;width:100%;align-items:center;border-bottom-width:1px;border-top-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},X={name:"7k195h",styles:"margin-right:0.75rem;width:25%"},B={name:"144gpf2",styles:"margin:0.5rem;height:1.75rem;width:75%"},C={name:"1pfaoi2",styles:"display:flex;width:100%;align-items:center;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},I={name:"7k195h",styles:"margin-right:0.75rem;width:25%"},P={name:"144gpf2",styles:"margin:0.5rem;height:1.75rem;width:75%"},L={name:"8q4vm3",styles:"display:flex;width:100%;align-items:center;justify-content:flex-start;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},S={name:"7k195h",styles:"margin-right:0.75rem;width:25%"},T={name:"8yqjda",styles:"margin:0.5rem;height:1.75rem;width:50%"},E={name:"1pfaoi2",styles:"display:flex;width:100%;align-items:center;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},D={name:"7k195h",styles:"margin-right:0.75rem;width:25%"},N={name:"144gpf2",styles:"margin:0.5rem;height:1.75rem;width:75%"},R={name:"1vd7m7l",styles:"display:flex;height:11rem;width:100%;align-items:center;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},A={name:"7k195h",styles:"margin-right:0.75rem;width:25%"},F={name:"1meapkl",styles:"margin:0.5rem;height:8rem;width:75%;appearance:none;border-radius:9px;border-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--background),var(--tw-bg-opacity));padding-left:0.75rem;padding-right:0.75rem;padding-top:1rem;padding-bottom:1rem;font-size:0.875rem;line-height:1.25rem;font-weight:500;letter-spacing:0.025em;--tw-text-opacity:1;color:rgba(var(--neutral-7),var(--tw-text-opacity));::placeholder{--tw-placeholder-opacity:1;color:rgba(var(--neutral-3),var(--tw-placeholder-opacity));}--tw-ring-opacity:0.1;--tw-ring-color:rgba(var(--neutral-3),var(--tw-ring-opacity));:focus{--tw-border-opacity:1;border-color:rgba(var(--neutral-7),var(--tw-border-opacity));outline:2px solid transparent;outline-offset:2px;--tw-ring-opacity:1;--tw-ring-color:rgba(var(--neutral-7),var(--tw-ring-opacity));}@media (min-width: 640px){font-size:1rem;line-height:1.5rem;}"},U={name:"iw6pos",styles:"margin-top:1.25rem;text-align:left"},W={name:"1dbko54",styles:"width:100%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},G={name:"m8qmtj",styles:"margin-top:1.25rem;border-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-4),var(--tw-border-opacity))"},H={name:"1qwxit7",styles:"display:flex;height:1.75rem;width:100%;align-items:center;--tw-border-opacity:1;border-color:rgba(var(--neutral-4),var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--neutral-1),var(--tw-bg-opacity))"},J={name:"1wqivop",styles:"width:8.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},K={name:"tsn3vs",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},M={name:"1tdkbtj",styles:"width:33.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},Q={name:"1tdkbtj",styles:"width:33.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},V={name:"1c4b9eg",styles:"display:flex;height:1.75rem;width:100%;align-items:center;border-top-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},Y={name:"oqxy97",styles:"width:8.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},$={name:"n2brp9",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rr={name:"i0sd65",styles:"width:33.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rt={name:"i0sd65",styles:"width:33.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},re={name:"iw6pos",styles:"margin-top:1.25rem;text-align:left"},ra={name:"1dbko54",styles:"width:100%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},ro={name:"m8qmtj",styles:"margin-top:1.25rem;border-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-4),var(--tw-border-opacity))"},ri={name:"1qwxit7",styles:"display:flex;height:1.75rem;width:100%;align-items:center;--tw-border-opacity:1;border-color:rgba(var(--neutral-4),var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--neutral-1),var(--tw-bg-opacity))"},rn={name:"tsn3vs",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rc={name:"tsn3vs",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rl={name:"tsn3vs",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rs={name:"1tdkbtj",styles:"width:33.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rd={name:"1tdkbtj",styles:"width:33.333333%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));font-size:0.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rp={name:"1c4b9eg",styles:"display:flex;height:1.75rem;width:100%;align-items:center;border-top-width:1px;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity))"},rb={name:"j6c22l",styles:"width:16.666667%;text-overflow:ellipsis;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rh={name:"n2brp9",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},ry={name:"n2brp9",styles:"width:16.666667%;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rm={name:"pkl3ib",styles:"width:33.333333%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},rw={name:"pkl3ib",styles:"width:33.333333%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;--tw-border-opacity:1;border-color:rgba(var(--neutral-3),var(--tw-border-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-5),var(--tw-text-opacity))"},ru={name:"ih7ruz",styles:"display:flex;width:100%;justify-content:center"},rg={name:"1pe334s",styles:"margin:1.75rem;width:9rem"},rv={name:"1pe334s",styles:"margin:1.75rem;width:9rem"};function rf(r){var t=r.responseData,e=r.user,a=(0,d.useRouter)(),o=t.selectedTime[0],n=function(){var r=t.selectedTime,e=r[r.length-1].split(":"),a=(0,i.Z)(e,2),o=a[0];return"30"===a[1]?"".concat(parseInt(o)+1,":00"):"".concat(o,":30")};t.startTime=o,t.endTime=n();var c=(0,b.cI)({mode:"onBlur",resolver:(0,h.X)(f)}),l=c.register,y=c.handleSubmit,m=c.formState.errors;return(0,w.tZ)(s.Fragment,{children:(0,w.tZ)("main",{css:Z,children:(0,w.tZ)("section",{css:k,children:(0,w.tZ)("div",{css:_,children:(0,w.BX)("div",{css:j,children:[(0,w.tZ)("h3",{css:z,children:"상세내역 입력"}),(0,w.tZ)("hr",{css:O}),(0,w.BX)("form",{onSubmit:y(function(r){v(r,t,e).then(function(r){200===r.status?window.confirm("예약이 완료되었습니다. 예약내역을 확인하시겠습니까?")?a.push("../../../mypage"):a.push("../../../buildings"):console.log(r.status)}).catch(function(r){console.error(r)})}),children:[(0,w.BX)("div",{css:q,children:[(0,w.tZ)("p",{css:X,children:"신청사유"}),(0,w.tZ)(p.II,g(g({type:"text",placeholder:"신청사유"},l("reason")),{},{error:!!(null!=m&&m.reason),"aria-label":"reason",autoComplete:"off",autoCapitalize:"none",maxLength:"30",noLabel:!0,required:!0,css:B}))]}),(0,w.BX)("div",{css:C,children:[(0,w.tZ)("p",{css:I,children:"행사명"}),(0,w.tZ)(p.II,g(g({type:"text",placeholder:"행사명","aria-label":"name"},l("name")),{},{error:!!(null!=m&&m.name),autoComplete:"off",autoCapitalize:"none",maxLength:"30",noLabel:!0,required:!0,css:P}))]}),(0,w.BX)("div",{css:L,children:[(0,w.tZ)("p",{css:S,children:"신청인원"}),(0,w.tZ)(p.II,g(g({type:"number",placeholder:"신청인원","aria-label":"headcount",autoComplete:"off",autoCapitalize:"none"},l("headcount")),{},{error:!!(null!=m&&m.headcount),maxLength:"30",noLabel:!0,required:!0,css:T}))]}),(0,w.BX)("div",{css:E,children:[(0,w.tZ)("p",{css:D,children:"단체(주최자)명"}),(0,w.tZ)(p.II,g(g({type:"text",placeholder:"단체명","aria-label":"organization"},l("organization")),{},{error:!!(null!=m&&m.organization),autoComplete:"off",autoCapitalize:"none",maxLength:"30",noLabel:!0,required:!0,css:N}))]}),(0,w.BX)("div",{css:R,children:[(0,w.tZ)("p",{css:A,children:"행사개요"}),(0,w.tZ)("textarea",g(g({type:"text",placeholder:"행사개요를 구체적으로 작성하여 주세요.","aria-label":"outline"},l("outline")),{},{autoComplete:"off",autoCapitalize:"none",maxLength:"200",css:F}))]}),(0,w.tZ)("h3",{css:U,children:"신청자 정보"}),(0,w.tZ)("hr",{css:W}),(0,w.BX)("div",{css:G,children:[(0,w.BX)("div",{css:H,children:[(0,w.tZ)("p",{css:J,children:"이름"}),(0,w.tZ)("p",{css:K,children:"학번"}),(0,w.tZ)("p",{css:M,children:"전화번호"}),(0,w.tZ)("p",{css:Q,children:"이메일"})]}),(0,w.BX)("div",{css:V,children:[(0,w.tZ)("p",{css:Y,children:e.name}),(0,w.tZ)("p",{css:$,children:e.id}),(0,w.tZ)("p",{css:rr,children:e.phone}),(0,w.tZ)("p",{css:rt,children:e.email})]})]}),(0,w.tZ)("h3",{css:re,children:"신청 정보 확인"}),(0,w.tZ)("hr",{css:ra}),(0,w.BX)("div",{css:ro,children:[(0,w.BX)("div",{css:ri,children:[(0,w.tZ)("p",{css:rn,children:"예약일자"}),(0,w.tZ)("p",{css:rc,children:"시작시간"}),(0,w.tZ)("p",{css:rl,children:"종료시간"}),(0,w.tZ)("p",{css:rs,children:"신청건물"}),(0,w.tZ)("p",{css:rd,children:"신청장소"})]}),(0,w.BX)("div",{css:rp,children:[(0,w.tZ)("p",{css:rb,children:t.selectedDate}),(0,w.tZ)("p",{css:rh,children:o}),(0,w.tZ)("p",{css:ry,children:n()}),(0,w.tZ)("p",{css:rm,children:t.buildingname}),(0,w.tZ)("p",{css:rw,children:t.room})]})]}),(0,w.BX)("div",{css:ru,children:[(0,w.tZ)(p.zx,{variant:"primary",type:"submit",css:rg,children:"예약신청"}),(0,w.tZ)(p.zx,{variant:"trans",onClick:function(){window.confirm("예약을 취소하시겠습니까?")&&a.push("../../../buildings")},css:rv,children:"취소"})]})]})]})})})})})}},4625:function(r,t,e){"use strict";var a=e(6154).Z.create({baseURL:"http://localhost:5000/api",withCredentials:!0});t.Z=a},5773:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buildings/[building]/[room]/reserve",function(){return e(4910)}])},6835:function(r,t,e){"use strict";e.d(t,{Z:function(){return o}});var a=e(2937);function o(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e,a,o=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=o){var i=[],n=!0,c=!1;try{for(o=o.call(r);!(n=(e=o.next()).done)&&(i.push(e.value),!t||i.length!==t);n=!0);}catch(r){c=!0,a=r}finally{try{n||null==o.return||o.return()}finally{if(c)throw a}}return i}}(r,t)||(0,a.Z)(r,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(r){r.O(0,[556,741,280,216,85,774,888,179],function(){return r(r.s=5773)}),_N_E=r.O()}]);