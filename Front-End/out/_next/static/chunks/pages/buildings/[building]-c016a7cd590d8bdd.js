(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{5085:function(e,t,r){"use strict";r.d(t,{C:function(){return x}});var n,o=r(29),a=r(7794),i=r.n(a),l=r(7294),u=r(1664),s=r.n(u),c=r(5701),p=r(2962),d=r(1346),f=r(9860),m=r(1163),v=r(7085),g=r(3854),b=r(4625),h=r(5944),y=[{name:"마이페이지",href:"/mypage",icon:g._K$},{name:"로그아웃",icon:g.ApJ}],w={name:"wbjmz3",styles:"display:inline-flex;align-items:center;justify-content:flex-end"},x=function(e){var t=e.children,r=e.headerBorder,n=e.footer,o=e.footerNav,a=e.title,i=e.logoName,u=(0,m.useRouter)(),s=(0,l.useState)(!1);s[0],s[1];var d="".concat(c.Z.canonical).concat(u.route);return(0,h.BX)(l.Fragment,{children:[(0,h.tZ)(p.PB,{title:a,canonical:d,robotsProps:{nosnippet:!0,notranslate:!0,noimageindex:!0,noarchive:!0,maxSnippet:-1,maxImagePreview:"none",maxVideoPreview:-1},openGraph:{url:d,title:a}}),(0,h.BX)(v.h4,{headerBorder:r,children:[(0,h.tZ)(v.TR,{showName:!0,name:i}),(0,h.tZ)("div",{css:w,children:(0,h.tZ)(N,{})})]}),t,n&&(0,h.tZ)(v.$_,{nav:o})]})},P=(n=(0,o.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.post("/logout");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return n.apply(this,arguments)}),S={name:"12vlaal",styles:"position:relative;min-width:40px"},E={name:"m8n6zo",styles:"margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;display:inline-flex;justify-content:center;border-radius:9999px;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);:hover{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(8px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:0.1;--tw-ring-color:rgb(255 255 255 / var(--tw-ring-opacity));outline:2px solid transparent;outline-offset:2px;}:focus{outline:2px solid transparent;outline-offset:2px;}"},k={name:"1rfwrxn",styles:"height:1.5rem;width:1.75rem"},Z={name:"4zwc3f",styles:"position:absolute;z-index:10;width:7rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));translate-x-:-65%"},I={name:"1tnavvq",styles:"position:relative;overflow:hidden;border-radius:9px;border-width:1px;--tw-bg-opacity:1;background-color:rgba(var(--neutral-1),var(--tw-bg-opacity));padding-left:0.25rem;padding-right:0.25rem;padding-top:0.5rem;padding-bottom:0.5rem;font-size:0.75rem;line-height:1rem;--tw-text-opacity:1;color:rgba(var(--neutral-8),var(--tw-text-opacity));--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-ring-opacity:0.05;--tw-ring-color:rgba(var(--neutral-3),var(--tw-ring-opacity));@media (min-width: 640px){padding-top:0.75rem;padding-bottom:0.75rem;font-size:0.875rem;line-height:1.25rem;font-weight:500;letter-spacing:0.025em;}"},B={name:"119v491",styles:"display:inline-flex;width:100%;align-items:center;border-radius:9px;padding:0.5rem;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;:hover{--tw-bg-opacity:1;background-color:rgba(var(--neutral-8),var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-1),var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px;}:focus{--tw-bg-opacity:1;background-color:rgba(var(--neutral-8),var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-1),var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px;}"},T={name:"u7ytkp",styles:"margin-right:0.5rem"},C={name:"119v491",styles:"display:inline-flex;width:100%;align-items:center;border-radius:9px;padding:0.5rem;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;:hover{--tw-bg-opacity:1;background-color:rgba(var(--neutral-8),var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-1),var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px;}:focus{--tw-bg-opacity:1;background-color:rgba(var(--neutral-8),var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(var(--neutral-1),var(--tw-text-opacity));outline:2px solid transparent;outline-offset:2px;}"},O={name:"u7ytkp",styles:"margin-right:0.5rem"},z={name:"yjb9mr",styles:"margin-top:0.25rem;margin-bottom:0.25rem;opacity:0.8"},N=function(){var e=(0,l.useState)(!1);e[0],e[1];var t=(0,m.useRouter)(),r=function(){P().then(function(e){200===e.status&&t.push("/")}).catch(function(e){console.error(e)})};return(0,h.tZ)(f.J,{css:S,children:function(e){return e.open,(0,h.BX)(l.Fragment,{children:[(0,h.tZ)(f.J.Button,{css:E,children:(0,h.tZ)(g._K$,{css:k})}),(0,h.tZ)(d.uT,{as:l.Fragment,children:(0,h.tZ)(f.J.Panel,{css:Z,children:(0,h.tZ)("div",{css:I,children:y.map(function(e){return(0,h.BX)("div",{children:[e.href?(0,h.tZ)(s(),{href:e.href,passHref:!0,children:(0,h.BX)("div",{css:B,children:[(0,h.tZ)("span",{css:T,children:(0,h.tZ)(e.icon,{width:18})}),e.name]})}):(0,h.BX)("button",{onClick:r,css:C,children:[(0,h.tZ)("span",{css:O,children:(0,h.tZ)(e.icon,{width:18})}),e.name]}),(0,h.tZ)("hr",{css:z})]},e.name)})})})})]})}})}},1683:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return d},default:function(){return E}});var n=r(7812),o=r(9790),a=r(7294),i=r(1664),l=r.n(i),u=r(1163);r(9473);var s=r(7085),c=r(5085);r(1212);var p=r(5944),d=!0,f={name:"1labxf5",styles:"margin-bottom:1.25rem;margin-right:1.25rem"},m={name:"1er2gsz",styles:"display:flex;width:auto;justify-content:space-between;border-radius:0.5rem;--tw-bg-opacity:1;background-color:rgba(var(--neutral-1),var(--tw-bg-opacity))"},v={name:"1baol9",styles:"display:inline-flex;width:100%;align-items:center;border-radius:0.5rem;--tw-bg-opacity:1;background-color:rgba(var(--neutral-1),var(--tw-bg-opacity));padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;text-transform:capitalize;::before{content:'\uD83D\uDEAA';margin-right:0.5rem;font-size:1.875rem;line-height:2.25rem;}"},g={name:"1gqeage",styles:"margin-right:0.75rem"},b={name:"umrpg7",styles:"--tw-bg-opacity:1;background-color:rgba(var(--neutral-1),var(--tw-bg-opacity));padding:0.75rem"},h={name:"13udsys",styles:"height:100%"},y={name:"867h4j",styles:"margin-left:auto;margin-right:auto;margin-top:7rem;margin-bottom:7rem;max-width:640px;padding-left:1rem;padding-right:1rem;text-align:center;@media (min-width: 768px){max-width:1024px;}"},w={name:"1pjkx3i",styles:"margin-top:5rem;padding-bottom:1.25rem;text-transform:capitalize"},x={name:"1twtz86",styles:"margin-top:2.5rem;display:flex"},P={name:"i89i77",styles:"margin-right:2.5rem"},S={name:"1fzd9wj",styles:'display:grid;list-style-position:inside;gap:0.5rem;text-align:left;font-family:Radial, Inter, SF Pro Text, -apple-system, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:1.125rem;line-height:1.75rem;@media (min-width: 640px){grid-template-columns:repeat(1, minmax(0, 1fr));}@media (min-width: 1024px){grid-template-columns:repeat(1, minmax(0, 1fr));}'};function E(e){var t=e.date,r=e.building,i=e.buildingData,d=(0,u.useRouter)().asPath,E=r||"강의실 목록",k=(0,a.useState)(""),Z=k[0],I=k[1],B=(0,n.Z)(new Set(i.map(function(e){return e.floor})));console.log(i);var T=function(e){var n=e.roomData,o=(0,a.useState)(!1),i=o[0],u=o[1];return(0,p.BX)("li",{css:f,children:[(0,p.BX)("span",{css:m,children:[(0,p.tZ)(l(),{href:{pathname:"/buildings/".concat(r,"/").concat(n.room),query:{date:t}},passHref:!0,as:"/buildings/".concat(r,"/").concat(n.room),children:(0,p.tZ)("div",{children:(0,p.tZ)(s.Fg,{underline:!0,css:v,children:n.room})})}),(0,p.tZ)("button",{onClick:function(){return u(!i)},css:g,children:(0,p.tZ)("img",{src:"/static/drop_icon.png"})})]}),i&&(0,p.tZ)("div",{css:b,children:(0,p.BX)("ol",{children:[""===n.cpacity?null:(0,p.BX)("li",{children:[(0,p.tZ)("b",{children:"수용인원"})," : ",n.capacity]}),""===n.equip_info?null:(0,p.BX)("li",{children:[(0,p.tZ)("b",{children:"보유기자재정보"})," : ",n.equip_info]}),""===n.facility_info?null:(0,p.BX)("li",{children:[(0,p.tZ)("b",{children:"보유시설정비정보"})," : ",n.facility_info]})]})})]})},C=(0,o.Z)("li",{target:"e1b4pult0"})({name:"1gmszeu",styles:"padding-bottom:0.25rem;padding-top:0.25rem;:hover{--tw-bg-opacity:1;background-color:rgb(244 244 245 / var(--tw-bg-opacity));}"});return(0,p.tZ)(c.C,{title:E,headerBorder:!0,footer:!0,children:(0,p.tZ)("main",{css:h,children:(0,p.BX)("section",{css:y,children:[(0,p.tZ)(s.cI,{routesArr:decodeURIComponent(d).split("/").filter(String)}),(0,p.tZ)("h1",{className:"h2-headline",css:w,children:E}),(0,p.BX)("div",{css:x,children:[(0,p.tZ)("span",{css:P,children:(0,p.tZ)(s.mA,{buttonText:"층 리스트",children:(0,p.BX)("ul",{children:[(0,p.tZ)(C,{onClick:function(){return I("")},children:"모든 층 보기"}),B.map(function(e){return(0,p.BX)(C,{onClick:function(){return I(e)},children:[" ",e," 층 "]},e)})]})})}),(0,p.tZ)("ul",{css:S,children:(Z?i.filter(function(e){return e.floor===Z}):i).map(function(e){return(0,p.tZ)(T,{roomData:e},e[0])})})]})]})})})}E.theme="light"},4625:function(e,t,r){"use strict";var n=r(6154).Z.create({baseURL:"http://localhost:5000/api",withCredentials:!0});t.Z=n},8741:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buildings/[building]",function(){return r(1683)}])},9860:function(e,t,r){"use strict";r.d(t,{J:function(){return R}});var n,o,a=r(7294),i=r(2984),l=r(2351),u=r(3784),s=r(9946),c=r(1363),p=r(4103),d=r(4575),f=r(6567),m=r(6723);function v(e){var t;if(e.type)return e.type;let r=null!=(t=e.as)?t:"button";if("string"==typeof r&&"button"===r.toLowerCase())return"button"}var g=r(9650),b=r(5466),h=r(1074),y=r(4007),w=r(6045),x=r(3781),P=r(638),S=r(3855),E=((n=E||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),k=((o=k||{})[o.TogglePopover=0]="TogglePopover",o[o.ClosePopover=1]="ClosePopover",o[o.SetButton=2]="SetButton",o[o.SetButtonId=3]="SetButtonId",o[o.SetPanel=4]="SetPanel",o[o.SetPanelId=5]="SetPanelId",o);let Z={0:e=>({...e,popoverState:(0,i.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},I=(0,a.createContext)(null);function B(e){let t=(0,a.useContext)(I);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,B),t}return t}I.displayName="PopoverContext";let T=(0,a.createContext)(null);function C(e){let t=(0,a.useContext)(T);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,C),t}return t}T.displayName="PopoverAPIContext";let O=(0,a.createContext)(null);function z(){return(0,a.useContext)(O)}O.displayName="PopoverGroupContext";let N=(0,a.createContext)(null);function M(e,t){return(0,i.E)(t.type,Z,e,t)}N.displayName="PopoverPanelContext";let _=l.AN.RenderStrategy|l.AN.Static,F=l.AN.RenderStrategy|l.AN.Static,R=Object.assign((0,l.yV)(function(e,t){var r;let n=(0,a.useRef)(null),o=(0,u.T)(t,(0,u.h)(e=>{n.current=e})),s=(0,a.useRef)([]),c=(0,a.useReducer)(M,{popoverState:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,a.createRef)(),afterPanelSentinel:(0,a.createRef)()}),[{popoverState:p,button:m,buttonId:v,panel:b,panelId:w,beforePanelSentinel:P,afterPanelSentinel:E},k]=c,Z=(0,h.i)(null!=(r=n.current)?r:m),B=(0,a.useMemo)(()=>{if(!m||!b)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(m))^Number(null==e?void 0:e.contains(b)))return!0;let e=(0,d.GO)(),t=e.indexOf(m),r=(t+e.length-1)%e.length,n=(t+1)%e.length,o=e[r],a=e[n];return!b.contains(o)&&!b.contains(a)},[m,b]),C=(0,S.E)(v),O=(0,S.E)(w),_=(0,a.useMemo)(()=>({buttonId:C,panelId:O,close:()=>k({type:1})}),[C,O,k]),F=z(),R=null==F?void 0:F.registerPopover,A=(0,x.z)(()=>{var e;return null!=(e=null==F?void 0:F.isFocusWithinPopoverGroup())?e:(null==Z?void 0:Z.activeElement)&&((null==m?void 0:m.contains(Z.activeElement))||(null==b?void 0:b.contains(Z.activeElement)))});(0,a.useEffect)(()=>null==R?void 0:R(_),[R,_]),(0,y.O)(null==Z?void 0:Z.defaultView,"focus",e=>{var t,r,n,o;0===p&&(A()||m&&b&&e.target!==window&&(null!=(r=null==(t=P.current)?void 0:t.contains)&&r.call(t,e.target)||null!=(o=null==(n=E.current)?void 0:n.contains)&&o.call(n,e.target)||k({type:1})))},!0),(0,g.O)([m,b],(e,t)=>{k({type:1}),(0,d.sP)(t,d.tJ.Loose)||(e.preventDefault(),null==m||m.focus())},0===p);let X=(0,x.z)(e=>{k({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:m:m;null==t||t.focus()}),j=(0,a.useMemo)(()=>({close:X,isPortalled:B}),[X,B]),D=(0,a.useMemo)(()=>({open:0===p,close:X}),[p,X]);return a.createElement(N.Provider,{value:null},a.createElement(I.Provider,{value:c},a.createElement(T.Provider,{value:j},a.createElement(f.up,{value:(0,i.E)(p,{0:f.ZM.Open,1:f.ZM.Closed})},(0,l.sY)({ourProps:{ref:o},theirProps:e,slot:D,defaultTag:"div",name:"Popover"})))))}),{Button:(0,l.yV)(function(e,t){let r=(0,s.M)(),{id:n=`headlessui-popover-button-${r}`,...o}=e,[f,g]=B("Popover.Button"),{isPortalled:b}=C("Popover.Button"),y=(0,a.useRef)(null),S=`headlessui-focus-sentinel-${(0,s.M)()}`,E=z(),k=null==E?void 0:E.closeOthers,Z=null!==(0,a.useContext)(N);(0,a.useEffect)(()=>{if(!Z)return g({type:3,buttonId:n}),()=>{g({type:3,buttonId:null})}},[Z,n,g]);let[I]=(0,a.useState)(()=>Symbol()),T=(0,u.T)(y,t,Z?null:e=>{if(e)f.buttons.current.push(I);else{let e=f.buttons.current.indexOf(I);-1!==e&&f.buttons.current.splice(e,1)}f.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&g({type:2,button:e})}),O=(0,u.T)(y,t),M=(0,h.i)(y),_=(0,x.z)(e=>{var t,r,n;if(Z){if(1===f.popoverState)return;switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),null==(r=(t=e.target).click)||r.call(t),g({type:1}),null==(n=f.button)||n.focus()}}else switch(e.key){case c.R.Space:case c.R.Enter:e.preventDefault(),e.stopPropagation(),1===f.popoverState&&(null==k||k(f.buttonId)),g({type:0});break;case c.R.Escape:if(0!==f.popoverState)return null==k?void 0:k(f.buttonId);if(!y.current||null!=M&&M.activeElement&&!y.current.contains(M.activeElement))return;e.preventDefault(),e.stopPropagation(),g({type:1})}}),F=(0,x.z)(e=>{Z||e.key===c.R.Space&&e.preventDefault()}),R=(0,x.z)(t=>{var r,n;(0,p.P)(t.currentTarget)||e.disabled||(Z?(g({type:1}),null==(r=f.button)||r.focus()):(t.preventDefault(),t.stopPropagation(),1===f.popoverState&&(null==k||k(f.buttonId)),g({type:0}),null==(n=f.button)||n.focus()))}),A=(0,x.z)(e=>{e.preventDefault(),e.stopPropagation()}),X=0===f.popoverState,j=(0,a.useMemo)(()=>({open:X}),[X]),D=function(e,t){let[r,n]=(0,a.useState)(()=>v(e));return(0,m.e)(()=>{n(v(e))},[e.type,e.as]),(0,m.e)(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}(e,y),G=Z?{ref:O,type:D,onKeyDown:_,onClick:R}:{ref:T,id:f.buttonId,type:D,"aria-expanded":e.disabled?void 0:0===f.popoverState,"aria-controls":f.panel?f.panelId:void 0,onKeyDown:_,onKeyUp:F,onClick:R,onMouseDown:A},$=(0,P.l)(),J=(0,x.z)(()=>{let e=f.panel;e&&(0,i.E)($.current,{[P.N.Forwards]:()=>(0,d.jA)(e,d.TO.First),[P.N.Backwards]:()=>(0,d.jA)(e,d.TO.Last)})===d.fE.Error&&(0,d.jA)((0,d.GO)().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),(0,i.E)($.current,{[P.N.Forwards]:d.TO.Next,[P.N.Backwards]:d.TO.Previous}),{relativeTo:f.button})});return a.createElement(a.Fragment,null,(0,l.sY)({ourProps:G,theirProps:o,slot:j,defaultTag:"button",name:"Popover.Button"}),X&&!Z&&b&&a.createElement(w._,{id:S,features:w.A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:J}))}),Overlay:(0,l.yV)(function(e,t){let r=(0,s.M)(),{id:n=`headlessui-popover-overlay-${r}`,...o}=e,[{popoverState:i},c]=B("Popover.Overlay"),d=(0,u.T)(t),m=(0,f.oJ)(),v=null!==m?(m&f.ZM.Open)===f.ZM.Open:0===i,g=(0,x.z)(e=>{if((0,p.P)(e.currentTarget))return e.preventDefault();c({type:1})}),b=(0,a.useMemo)(()=>({open:0===i}),[i]);return(0,l.sY)({ourProps:{ref:d,id:n,"aria-hidden":!0,onClick:g},theirProps:o,slot:b,defaultTag:"div",features:_,visible:v,name:"Popover.Overlay"})}),Panel:(0,l.yV)(function(e,t){let r=(0,s.M)(),{id:n=`headlessui-popover-panel-${r}`,focus:o=!1,...p}=e,[v,g]=B("Popover.Panel"),{close:b,isPortalled:y}=C("Popover.Panel"),S=`headlessui-focus-sentinel-before-${(0,s.M)()}`,E=`headlessui-focus-sentinel-after-${(0,s.M)()}`,k=(0,a.useRef)(null),Z=(0,u.T)(k,t,e=>{g({type:4,panel:e})}),I=(0,h.i)(k);(0,m.e)(()=>(g({type:5,panelId:n}),()=>{g({type:5,panelId:null})}),[n,g]);let T=(0,f.oJ)(),O=null!==T?(T&f.ZM.Open)===f.ZM.Open:0===v.popoverState,z=(0,x.z)(e=>{var t;if(e.key===c.R.Escape){if(0!==v.popoverState||!k.current||null!=I&&I.activeElement&&!k.current.contains(I.activeElement))return;e.preventDefault(),e.stopPropagation(),g({type:1}),null==(t=v.button)||t.focus()}});(0,a.useEffect)(()=>{var t;e.static||1===v.popoverState&&(null==(t=e.unmount)||t)&&g({type:4,panel:null})},[v.popoverState,e.unmount,e.static,g]),(0,a.useEffect)(()=>{if(!o||0!==v.popoverState||!k.current)return;let e=null==I?void 0:I.activeElement;k.current.contains(e)||(0,d.jA)(k.current,d.TO.First)},[o,k,v.popoverState]);let M=(0,a.useMemo)(()=>({open:0===v.popoverState,close:b}),[v,b]),_={ref:Z,id:n,onKeyDown:z,onBlur:o&&0===v.popoverState?e=>{var t,r,n,o,a;let i=e.relatedTarget;i&&k.current&&(null!=(t=k.current)&&t.contains(i)||(g({type:1}),(null!=(n=null==(r=v.beforePanelSentinel.current)?void 0:r.contains)&&n.call(r,i)||null!=(a=null==(o=v.afterPanelSentinel.current)?void 0:o.contains)&&a.call(o,i))&&i.focus({preventScroll:!0})))}:void 0,tabIndex:-1},R=(0,P.l)(),A=(0,x.z)(()=>{let e=k.current;e&&(0,i.E)(R.current,{[P.N.Forwards]:()=>{var t;(0,d.jA)(e,d.TO.First)===d.fE.Error&&(null==(t=v.afterPanelSentinel.current)||t.focus())},[P.N.Backwards]:()=>{var e;null==(e=v.button)||e.focus({preventScroll:!0})}})}),X=(0,x.z)(()=>{let e=k.current;e&&(0,i.E)(R.current,{[P.N.Forwards]:()=>{var e;if(!v.button)return;let t=(0,d.GO)(),r=t.indexOf(v.button),n=t.slice(0,r+1),o=[...t.slice(r+1),...n];for(let t of o.slice())if("true"===t.dataset.headlessuiFocusGuard||null!=(e=v.panel)&&e.contains(t)){let e=o.indexOf(t);-1!==e&&o.splice(e,1)}(0,d.jA)(o,d.TO.First,{sorted:!1})},[P.N.Backwards]:()=>{var t;(0,d.jA)(e,d.TO.Previous)===d.fE.Error&&(null==(t=v.button)||t.focus())}})});return a.createElement(N.Provider,{value:n},O&&y&&a.createElement(w._,{id:S,ref:v.beforePanelSentinel,features:w.A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:A}),(0,l.sY)({ourProps:_,theirProps:p,slot:M,defaultTag:"div",features:F,visible:O,name:"Popover.Panel"}),O&&y&&a.createElement(w._,{id:E,ref:v.afterPanelSentinel,features:w.A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X}))}),Group:(0,l.yV)(function(e,t){let r=(0,a.useRef)(null),n=(0,u.T)(r,t),[o,i]=(0,a.useState)([]),s=(0,x.z)(e=>{i(t=>{let r=t.indexOf(e);if(-1!==r){let e=t.slice();return e.splice(r,1),e}return t})}),c=(0,x.z)(e=>(i(t=>[...t,e]),()=>s(e))),p=(0,x.z)(()=>{var e;let t=(0,b.r)(r);if(!t)return!1;let n=t.activeElement;return!!(null!=(e=r.current)&&e.contains(n))||o.some(e=>{var r,o;return(null==(r=t.getElementById(e.buttonId.current))?void 0:r.contains(n))||(null==(o=t.getElementById(e.panelId.current))?void 0:o.contains(n))})}),d=(0,x.z)(e=>{for(let t of o)t.buttonId.current!==e&&t.close()}),f=(0,a.useMemo)(()=>({registerPopover:c,unregisterPopover:s,isFocusWithinPopoverGroup:p,closeOthers:d}),[c,s,p,d]),m=(0,a.useMemo)(()=>({}),[]);return a.createElement(O.Provider,{value:f},(0,l.sY)({ourProps:{ref:n},theirProps:e,slot:m,defaultTag:"div",name:"Popover.Group"}))})})}},function(e){e.O(0,[556,741,280,85,774,888,179],function(){return e(e.s=8741)}),_N_E=e.O()}]);